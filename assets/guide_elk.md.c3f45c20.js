import{_ as s,o as a,c as l,V as e}from"./chunks/framework.a8438231.js";const F=JSON.parse('{"title":"ELK","description":"","frontmatter":{},"headers":[],"relativePath":"guide/elk.md","filePath":"guide/elk.md","lastUpdated":1683282853000}'),n={name:"guide/elk.md"},p=e(`<h1 id="elk" tabindex="-1">ELK <a class="header-anchor" href="#elk" aria-label="Permalink to &quot;ELK&quot;">​</a></h1><p><a href="https://www.elastic.co/cn/" target="_blank" rel="noreferrer">Elasticsearch官网</a>中提供了很多技术，其中一些技术是可以配合使用的，里面比较出名的就是ELK技术栈。</p><p>ELK是Elasticsearch、Logstash、Kibana三个软件首字母。</p><p>Elasticsearch：全文检索工具。</p><p>Kibana：页面管理工具，可以通过Kibana的管理界面操作Elasticsearch。</p><p>logstash：日志收集的工具，通过此工具可以实现日志内容收集及格式转换。</p><h2 id="elasticsearch简介" tabindex="-1">Elasticsearch简介 <a class="header-anchor" href="#elasticsearch简介" aria-label="Permalink to &quot;Elasticsearch简介&quot;">​</a></h2><p>Elasticsearch是一个基于Lucene的搜索服务器。它提供了一个分布式的全文搜索引擎，其对外服务是基于RESTful web接口发布的。Elasticsearch是用Java开发的应用，并作为Apache许可条款下的开放源码发布，是当前流行的企业级搜索引擎。设计用于云计算中，能够达到近实时搜索，稳定，可靠，快速，安装使用方便。</p><h3 id="功能分类" tabindex="-1">功能分类 <a class="header-anchor" href="#功能分类" aria-label="Permalink to &quot;功能分类&quot;">​</a></h3><p>Elasticsearch具备两个主要功能：</p><ul><li>搜索，功能和Solr类似。代替目前(海量数据)的MySQL模糊查询</li><li>分析，结合LogStash使用</li></ul><h3 id="相关概念" tabindex="-1">相关概念 <a class="header-anchor" href="#相关概念" aria-label="Permalink to &quot;相关概念&quot;">​</a></h3><h4 id="cluster" tabindex="-1">cluster <a class="header-anchor" href="#cluster" aria-label="Permalink to &quot;cluster&quot;">​</a></h4><p>集群。Elasticsearch集群由一个或多个节点组成，其中有一个主节点，这个主节点是可以通过选举产生的，主从节点是对于集群内部来说的。Elasticsearch的一个概念就是去中心化，字面上理解就是无中心节点，这是对于集群外部来说的，因为从外部看Elasticsearch集群，在逻辑上是个整体，你与集群中的任何一个节点通信和与整个Elasticsearch集群通信是等价的。也就是说，主节点的存在不会产生单点安全隐患、并发访问瓶颈等问题。</p><h4 id="index" tabindex="-1">Index <a class="header-anchor" href="#index" aria-label="Permalink to &quot;Index&quot;">​</a></h4><p>索引，相当于关系型数据库中的表。其中存储若干相似结构的Document数据。如：客户索引，订单索引，商品索引等。Elasticsearch中的索引不像数据库表格一样有强制的数据约束，在理论上，可以存储任意结构的数据。但为了更好的业务提供搜索数据支撑，还是要设计合适的索引体系来存储不同的数据。</p><h4 id="shards" tabindex="-1">shards <a class="header-anchor" href="#shards" aria-label="Permalink to &quot;shards&quot;">​</a></h4><p>primary shard代表索引的主分片，Elasticsearch可以把一个完整的索引分成多个primary shard，这样的好处是可以把一个大的索引拆分成多个分片，分布存储在不同的Elasticsearch节点上，从而形成分布式存储，并为搜索访问提供分布式服务，提高并发处理能力。primary shard的数量只能在索引创建时指定，并且索引创建后不能更改primary shard数量。</p><h4 id="replicas" tabindex="-1">replicas <a class="header-anchor" href="#replicas" aria-label="Permalink to &quot;replicas&quot;">​</a></h4><p>replica shard：代表索引主分片的副本，Elasticsearch可以设置多个replica shard。replica shard的作用：一是提高系统的容错性，当某个节点某个primary shard损坏或丢失时可以从副本中恢复。二是提高Elasticsearch的查询效率，Elasticsearch会自动对搜索请求进行负载均衡，将并发的搜索请求发送给合适的节点，增强并发处理能力。</p><h4 id="type" tabindex="-1">Type <a class="header-anchor" href="#type" aria-label="Permalink to &quot;Type&quot;">​</a></h4><p>类型。每个索引中都必须有唯一的一个Type，Type是Index中的一个逻辑分类。Elasticsearch中的数据Document是存储在索引下的Type中的。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Elasticsearch 5.x及更低版本中，一个Index中可以有多个Type。Elasticsearch6.x版本之后，type概念被弱化，一个index中只能有唯一的一个type。且在7.x版本之后，删除type定义。</p></div><h4 id="document" tabindex="-1">Document <a class="header-anchor" href="#document" aria-label="Permalink to &quot;Document&quot;">​</a></h4><p>文档。Elasticsearch中的最小数据单元。一个Document就是一条数据，一般使用JSON数据结构表示，每个Index下的Type中都可以存储多个Document，一个Document中可定义多个field，field就是数据字段，如：学生数据<code>({&quot;name&quot;:&quot;张三&quot;,&quot;age&quot;:20,&quot;gender&quot;:&quot;男&quot;})</code>。</p><h4 id="元数据" tabindex="-1">元数据 <a class="header-anchor" href="#元数据" aria-label="Permalink to &quot;元数据&quot;">​</a></h4><p>在Elasticsearch中所有以&quot;_&quot;开头的属性都称为元数据，都有着自己特定的函数。例如：_index:表示索引</p><h3 id="常见使用场景" tabindex="-1">常见使用场景 <a class="header-anchor" href="#常见使用场景" aria-label="Permalink to &quot;常见使用场景&quot;">​</a></h3><ul><li>维基百科：全文检索，高亮显示，搜索推荐</li><li>The Guardian(国外的一个新闻网站)，此平台可以对用户的行为(点击、浏览、收藏、评论)、社区网络数据(对新闻的评论等)进行数据分析，为新闻的发布者提供相关的公众反馈。</li><li>Stach Overflow(国外的程序异常讨论论坛)</li><li>Github(开源代码管理)，在千亿级别的代码行中搜索信息</li><li>电子商务平台等。</li></ul><h2 id="安装elasticsearch" tabindex="-1">安装Elasticsearch <a class="header-anchor" href="#安装elasticsearch" aria-label="Permalink to &quot;安装Elasticsearch&quot;">​</a></h2><p>使用的Elasticsearch的版本是7.17.9，Elasticsearch7.x要求linux内核必须是4+版本以上。在linux操作系统中，查看内核版本的命令是：uname -a。</p><h3 id="为elasticsearch提供完善的系统配置" tabindex="-1">为Elasticsearch提供完善的系统配置 <a class="header-anchor" href="#为elasticsearch提供完善的系统配置" aria-label="Permalink to &quot;为Elasticsearch提供完善的系统配置&quot;">​</a></h3><p>Elasticsearch在Linux中安装部署的时候，需要系统为其提供若干系统配置。如：应用可启动的线程数、应用可以在系统中划分的虚拟内存、应用可以最多创建多少文件等。</p><h4 id="修改限制信息" tabindex="-1">修改限制信息 <a class="header-anchor" href="#修改限制信息" aria-label="Permalink to &quot;修改限制信息&quot;">​</a></h4><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">vim</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/security/limits.conf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>是修改系统中允许应用最多创建多少文件等的限制权限。Linux默认来说，一般限制应用最多创建的文件是65535个。但是Elasticsearch至少需要65535的文件创建权限。修改后的内容为：</p><p><code>* soft nofile 65536</code></p><p><code>* hard nofile 65536</code></p><p><code>*</code> 代表任意用户，soft表示内存中虚拟文件(软文件)，hard表示落地到磁盘的具体文件(硬文件)，nofile表示权限，65536表示个数。</p><h4 id="修改线程开启限制" tabindex="-1">修改线程开启限制 <a class="header-anchor" href="#修改线程开启限制" aria-label="Permalink to &quot;修改线程开启限制&quot;">​</a></h4><p>在centos6.5版本中编辑下述的配置文件<code>vim /etc/security/limits.d/90-nproc.conf</code></p><p>在centos7+版本中编辑配置文件是<code>vim /etc/security/limits.conf</code></p><p>是修改系统中允许用户启动的进程开启多少个线程。默认的linux限制root用户开启的进程可以开启任意数量的线程，其他用户开启的进程可以开启1024个线程。必须修改限制数为4096+。因为Elasticsearch至少需要4096的线程池预备。Elasticsearch在5.x版本之后，强制要求在linux中不能使用root用户启动Elasticsearch进程。所以必须使用其他用户启动Elasticsearch进程才可以。</p><p><code>*soft nproc 4096</code></p><p><code>root soft nproc unlimited</code></p><p>*任何用户 nproc创建线程 数量4096</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Linux低版本内核为线程分配的内存是128K。4.x版本的内核分配的内存更大。如果虚拟机的内存是1G，最多只能开启3000+个线程数。至少为虚拟机分配1.5G以上的内存，保险起见建议2G以上。</p></div><h4 id="修改系统控制权限" tabindex="-1">修改系统控制权限 <a class="header-anchor" href="#修改系统控制权限" aria-label="Permalink to &quot;修改系统控制权限&quot;">​</a></h4><p>centos6.5中的配置文件为<code>vim /etc/sysctl.conf</code>，centos8中的配置文件为<code>vim /etc/sysctl.d/99-sysctl.conf</code>。系统控制文件是管理系统中的各种资源控制的配置文件。Elasticsearch需要开辟一个65535字节以上空间的虚拟内存。linux默认不允许任何用户和应用直接开辟虚拟内存。</p><p>新增内容为：<code>vm.max_map_count=655360</code></p><p>使用<code>sysctl -p</code>命令，让系统控制权限配置生效。</p><h3 id="jdk环境" tabindex="-1">JDK环境 <a class="header-anchor" href="#jdk环境" aria-label="Permalink to &quot;JDK环境&quot;">​</a></h3><p>首先需要安装jdk环境，安装JDK8(Elastic 需要 Java 8 环境)，由于elasticsearch不能用root启动，所以需要和elasticsearch用户共享java环境。如果没有可以使用以下命令安装:</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">java-1.8.0-openjdk</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>安装完成，查看java版本</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">java</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h3><p>在Linux系统下，获取Elasticsearch安装包的命令如下所示。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.17.9-linux-x86_64.tar.gz</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>获取安装包后，可以使用如下命令解压缩安装包：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">tar</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-xzf</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">elasticsearch-7.17.9-linux-x86_64.tar.gz</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在elasticsearch文件夹中有bin、config、jdk、lib、logs、modules、plugins和文件夹。</p><ul><li>bin文件夹下存放的是二进制脚本，包括启动Elasticsearch节点和安装的Elasticsearch插件。</li><li>config文件夹下存放的是包含elasticsearch.yml在内的配置文件。</li><li>jdk文件夹下存放的是Java运行环境。</li><li>lib文件夹下存放的是Elasticsearch自身所需的jar文件。</li><li>logs文件夹下存放的是日志文件。</li><li>modules文件夹下存放的是Elasticsearch的各个模块。</li><li>plugins文件夹下存放的是配置插件，每个插件都包含在一个子目录中。</li></ul><p>启动命令</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">./bin/elasticsearch</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在Elasticsearch运行过程中，如果需要将Elasticsearch作为守护进程运行，则需要在命令行上指定命令参数“-d”，并使用 “-p”选项将Elasticsearch的进程ID记录在文件中，启动命令如下：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">./bin/elasticsearch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-pid</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在关闭Elasticsearch时，可以根据PID文件中记录的进程ID执行pkill命令，具体命令如下：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pkill</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-F</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pid</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在Elasticsearch启动后，需要检查Elasticsearch是否能够运行。我们可以通过向本地主机上的端口9200发送HTTP请求来测试本地Elasticsearch节点是否正在运行，发送请求如下：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http://localhost:9200/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>我们会看到如下输出结果：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> : </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">localhost.localdomain</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cluster_name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> : </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">elasticsearch</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cluster_uuid</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> : </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">4Bq-PMVjTROxs7HPGplgXQ</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> : </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">number</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">7.17.9</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">build_flavor</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">default</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">build_type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tar</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">build_hash</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ef48222227ee6b9e70e502f0f0daa52435ee634d</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">build_date</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2023-01-31T05:34:43.305517834Z</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">build_snapshot</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">lucene_version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8.11.1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">minimum_wire_compatibility_version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">6.8.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">minimum_index_compatibility_version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">6.0.0-beta1</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tagline</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> : </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">You Know, for Search</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>表示成功。</p><p>如果提示以下拒绝连接</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">curl:</span><span style="color:#A6ACCD;"> (7) Failed connect to localhost:9200</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">拒绝连接</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>那么我们需要配置一下</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">vim</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">conf/elasticsearch.yml</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>设置network.host: 0.0.0.0 #设置ip地址，任意网络均可访问</p><h2 id="kibana" tabindex="-1">Kibana <a class="header-anchor" href="#kibana" aria-label="Permalink to &quot;Kibana&quot;">​</a></h2><p>Kibana是一个基于Web的图形界面，可以让用户在Elasticsearch中使用图形和图表对数据进行可视化。在实际使用过程中，Kibana一般用于搜索、分析和可视化存储在Elasticsearch指标中的日志数据。Kibana利用Elasticsearch的REST接口检索数据，不仅允许用户创建自己的数据定制仪表板视图，还允许他们以特殊的方式查询和过滤数据。可以说从跟踪、查询、负载到理解请求如何流经整个应用，Kibana都能轻松完成。</p><h3 id="安装-1" tabindex="-1">安装 <a class="header-anchor" href="#安装-1" aria-label="Permalink to &quot;安装&quot;">​</a></h3><p>下载安装包</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-O</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://artifacts.elastic.co/downloads/kibana/kibana-7.17.9-linux-x86_64.tar.gz</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>解压</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">tar</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-xzf</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">kibana-7.17.9-linux-x86_64.tar.gz</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>启动</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">./bin/kibana</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在浏览器的地址栏中输入<code>http://localhost:5601</code>，打开Kibana页面</p>`,89),o=[p];function t(c,r,i,d,h,u){return a(),l("div",null,o)}const D=s(n,[["render",t]]);export{F as __pageData,D as default};
